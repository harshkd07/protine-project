(function(){var t=!1,n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(r){var o=this.prototype;t=!0;var s=new this();t=!1;for(var i in r){s[i]=typeof r[i]=='function'&&typeof o[i]=='function'&&n.test(r[i])?(function(t,n){return function(){var r=this._super;this._super=o[t];var i=n.apply(this,arguments);this._super=r;return i}})(i,r[i]):r[i]};function e(){if(!t&&this.init)this.init.apply(this,arguments)};e.prototype=s;e.prototype.constructor=e;e.extend=arguments.callee;return e}})();
;var AuroraNanobar=Class.extend({nanobarPosition:'',$nanobarClose:{},$firstLogNanobarButton:{},$linkOnNanobarButton:{},$nanobarSettingsButton:{},$nanobarCookiesBox:{},$nanobarMarketingCheckbox:{},$nanobarExitButton:{},$nanobarSaveButton:{},$nanobarSaveButtonText:{},$nanobarSaveButtonTextOriginal:{},$nanobarText:{},$nanobarTextCookies:{},$bodyElement:{},$responsiveMenu:{},backgroundPositionSave:'',paddingTopSave:'',paddingBottomSave:'',rmHeight:'',init:function(n,o){this.nanobarElement=n;this.nanobarPosition=o;this.$nanobarText=$('#nanoText, .nanobar-text');this.$nanobarTextCookies=$('#nanoTextCookies, .nanobar-text-cookies');this.$nanobarClose=$('#auroraNanobarClose, .js-nanobar-close');this.$firstLogNanobarButton=$('#first-login-nanobar-button, .js-hidden-nanobar-button');this.$linkOnNanobarButton=$('a[href$="show-cookie-settings"]');this.$nanobarSettingsButton=$('#aurora-nanobar-settings-button, .js-nanobar-settings-button');this.$nanobarCookiesBox=$('.aurora-nanobar-cookies, .js-nanobar-cookies');this.$nanobarSaveButton=$('#auroraNanobarCloseCookies, .js-nanobar-close-cookies');this.$nanobarSaveButtonTextOriginal=this.$nanobarSaveButton.text();this.$nanobarSaveButtonText=this.$nanobarSaveButton.attr('data-button-save-text');this.$nanobarExitButton=$('.aurora-nanobar-exit');this.$nanobarMarketingCheckbox=$('#marketing-cookies, .js-nanobar-marketing-cookies');this.$bodyElement=$('body');this.$responsiveMenu=$('#mobile-nav, #js-mobile-navbar');this.$bodyElement.attr('data-nanobar-position',o);this.rmHeight=this.$responsiveMenu.outerHeight();this.saveBodyStyles();this.initListeners()},initListeners:function(){var n=this;this.$nanobarClose.click(function(o){o.preventDefault();n.setCookie('auroraNanobarAccepted',1,365);n.hideNanobar()})},saveBodyStyles:function(){this.backgroundPositionSave=this.$bodyElement.css('background-position');this.paddingTopSave=this.$bodyElement.css('padding-top');this.paddingBottomSave=this.$bodyElement.css('padding-bottom')},restoreBodyStyle:function(n){this.$bodyElement.css('background-position',this.backgroundPositionSave);if(n==='top'){this.$bodyElement.css('padding-'+n,this.paddingTopSave);this.$responsiveMenu.css('top',0);$('#module_cart').css('top',this.rmHeight+'px')}
else{this.$bodyElement.css('padding-'+n,this.paddingBottomSave)};this.$bodyElement.removeClass('aurora-nanobar-active')},changeBodyStyle:function(n,o){if(n==='top'){var a=this.$bodyElement.css('background-position'),t=a.split(' ');t.pop();t.push(o+'px');this.$bodyElement.css('background-position',t.join(' ')).addClass('aurora-nanobar-active');this.$responsiveMenu.css('top',o+'px');$('#module_cart').css('top',o+this.rmHeight+'px')};this.$bodyElement.css('padding-'+n,o)},hideNanobar:function(){this.nanobarElement.fadeOut(1000);this.restoreBodyStyle(this.nanobarPosition)},showNanobar:function(){var n=this;n.changeBodyStyle(n.nanobarPosition,n.nanobarElement.outerHeight());n.nanobarElement.show().css(n.nanobarPosition,0).appendTo('body')},setCookie:function(n,o,a){var t=new Date();t.setTime(t.getTime()+(a*24*60*60*1000));var e='expires='+t.toUTCString();document.cookie=n+'='+o+'; '+e+'; path=/'}});
;AuroraNanobar.FirstLogNanobar=AuroraNanobar.extend({init:function(a,r){this._super(a,r);var o=this;if(getCookieValue('auroraNanobarAccepted')!=='1'){o.showNanobar()}}});
;AuroraNanobar.FirstLogNanobarCheckbox=AuroraNanobar.extend({init:function(o,e){var t=this;this._super(o,e);if(getCookieValue('auroraNanobarAccepted')!=='1'){t.showNanobar()}},initListeners:function(){var o=this,e=function(){o.$nanobarSettingsButton.show();o.showNanobar();o.hideNanobarButton();o.$nanobarSaveButton.text(o.$nanobarSaveButtonTextOriginal)};this.$nanobarSaveButton.click(function(e){e.preventDefault();o.setCookie('auroraNanobarAccepted',1,365);o.hideNanobar();o.showNanobarButton();o.hideNanobarCookiesBox();o.marketingCookieEnabled()});o.$firstLogNanobarButton.click(function(){e()});o.$linkOnNanobarButton.click(function(o){o.preventDefault();e()});o.$nanobarSettingsButton.click(function(e){e.preventDefault();o.marketingCheckboxState();o.$nanobarSaveButton.text(o.$nanobarSaveButtonText);o.$nanobarCookiesBox.toggle('fast',function(){o.$nanobarSettingsButton.hide()})});this.$nanobarExitButton.click(function(e){e.preventDefault();o.hideNanobar();o.hideNanobarCookiesBox();o.marketingCookieDisabled();o.showNanobarButton()})},showNanobarButton:function(){var o=this;o.$firstLogNanobarButton.show()},marketingCheckboxState:function(){var o=this;if(getCookieValue('auroraMarketingCookieAccepted')==='0'){o.$nanobarMarketingCheckbox.attr('checked',!1)}},hideNanobarButton:function(){var o=this;o.$firstLogNanobarButton.hide()},hideNanobarCookiesBox:function(){var o=this;o.$nanobarCookiesBox.hide()},hideNanobar:function(){var o=this;o._super()},showNanobar:function(){var o=this;o._super()},marketingCookieEnabled:function(){var o=this,e;if(o.$nanobarMarketingCheckbox.is(':checked')){o.setCookie('auroraMarketingCookieAccepted',1,365);e=new CustomEvent('AuroraMarketingCookie.Changed',{detail:{isAccepted:!0}})}
else{o.setCookie('auroraMarketingCookieAccepted',0,365);this.deleteAllCookies();e=new CustomEvent('AuroraMarketingCookie.Changed',{detail:{isAccepted:!1}})};window.dispatchEvent(e)},marketingCookieDisabled:function(){var e=this;e.setCookie('auroraMarketingCookieAccepted',0,365);this.deleteAllCookies();var o=new CustomEvent('AuroraMarketingCookie.Changed',{detail:{isAccepted:!1}});window.dispatchEvent(o)},deleteAllCookies:function(){var i=location.hostname.split('.');i.shift();var r=i.join('.'),c=['device','JSESSIONID','PHPSESSID','cart_token','cart_method','admin_logged_in','auroraMarketingCookieAccepted','auroraNanobarAccepted','token','__jid','language','currency','customer_group','auroraOverlay','packetery-selected-id'],n=document.cookie.split(';');for(var t=0;t<n.length;t++){var e=n[t],a=e.indexOf('='),o=a>-1?e.substr(0,a):e;if($.inArray($.trim(o),c)===-1){document.cookie=$.trim(o)+'=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/';document.cookie=$.trim(o)+'=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain='+r;document.cookie=$.trim(o)+'=;expires=Thu, 01 Jan 1970 00:00:00 GMT'}}}});
;AuroraNanobar.FreeShippingNanobar=AuroraNanobar.extend({time:'',onCartPage:'',init:function(t,r,n,a,i){var e=this;this._super(t,r);this.time=n;this.onCartPage=a;this.firstLoginStatus=i;if(e.time==0||e.onCartPage){e.refreshNanobar()}},initListeners:function(){var e=this;e.$nanobarClose.click(function(){e.hideNanobar()});document.addEventListener('cartChanged',function(){e.refreshNanobar()});e.$bodyElement.on('deleteCart',function(){e.refreshNanobar()})},showNanobar:function(){var e=this;e._super();if(e.time!=0){setTimeout(function(){e.hideNanobar()},e.time*1000)}},refreshNanobar:function(){var e=this;if(e.isVisible()&&e.changeDeliveryText()){e.showNanobar()}
else{e.hideNanobar()}},changeDeliveryText:function(){var e=this,t=e.getDeliveryText();if(t!=''){e.$nanobarText.text(t);return!0}
else{return!1}},getDeliveryText:function(){var e='';$.ajax({url:'index.php?route=checkout/cartchildren/expecteddelivery/refreshDeliveryPrice',type:'POST',cache:!1,data:'isAjaxQuery=true',contentType:'application/x-www-form-urlencoded;charset=utf-8',dataType:'text',global:!1,async:!1,success:function(t){e=t}});return e},isVisible:function(){var e=this;if((e.firstLoginStatus!=='0')&&(getCookieValue('auroraNanobarAccepted')!=='1')){return!1};return!0}});